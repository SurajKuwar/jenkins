println("pipeline {
    agent any
    
    stages {
        stage('Build') {
            steps {
                println('// Task: Build the code using Maven')
                println('// Tool: Maven')
            }
        }
        
        stage('Unit and Integration Tests') {
            steps {
                println('// Task: Run unit tests to ensure the code functions as expected')
                println('// Tool: JUnit, TestNG')
                println('// Task: Run integration tests to ensure components work together')
                println('// Tool: Selenium, Cucumber')
            }
        }
        
        stage('Code Analysis') {
            steps {
                println('// Task: Integrate code analysis tool - SonarQube')
                println('// Tool: SonarQube')
            }
        }
        
        stage('Security Scan') {
            steps {
                println('// Task: Perform security scan using OWASP ZAP')
                println('// Tool: OWASP ZAP')
            }
        }
        
        stage('Deploy to Staging') {
            steps {
                println('// Task: Deploy the application to a staging server')
                println('// Tool: Jenkins deployment plugins, AWS CLI, Docker')
            }
        }
        
        stage('Integration Tests on Staging') {
            steps {
                println('// Task: Run integration tests on the staging environment')
                println('// Tool: Selenium, Postman, JMeter')
            }
        }
        
        stage('Deploy to Production') {
            steps {
                println('// Task: Deploy the application to a production server')
                println('// Tool: Jenkins deployment plugins, AWS CLI, Docker')
            }
        }
    }
}")

    
    post {
        success {
            // Send notification email with success status and logs
            emailext subject: "Pipeline Successful",
                     body: "The pipeline ran successfully.",
                     to: "surajkuwar2108@gmail.com",
                     attachLog: true
        }
        failure {
            // Send notification email with failure status and logs
            emailext subject: "Pipeline Failed",
                     body: "The pipeline failed to complete.",
                     to: "surajkuwar2108@gmail.com",
                     attachLog: true
        }
    }
}